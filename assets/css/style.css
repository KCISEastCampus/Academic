:root {
  /* --al-color: #5cc07f; */
  /* --ig-color: #5c6bc0; */
  /* theme colors */
  --bg: #0b1220; /* page background for dark theme */
  --surface: #0f1a2b; /* card / surface */
  --muted: #9aa4b2; /* secondary text */
  --text: #e6eef6; /* primary text */
  --accent-al: #5cc07f; /* A-Level accent */
  --accent-ig: #5c6bc0; /* IGCSE accent */
  --info: #17a2b8;
  --radius: 0.6rem;
  --container-max: 1100px;
}

/* Light theme overrides */
html[data-bs-theme="light"] {
  --bg: #f6f8fa;
  --surface: #ffffff;
  --muted: #556076;
  --text: #0b1220;
}

/* Strong overrides to ensure backgrounds switch when theme changes (override third-party CSS) */
html[data-bs-theme="light"] body,
html[data-bs-theme="light"] .container,
html[data-bs-theme="light"] header,
html[data-bs-theme="light"] main,
html[data-bs-theme="light"] footer {
  background-color: var(--bg) !important;
  color: var(--text) !important;
}

html[data-bs-theme="light"] .card,
html[data-bs-theme="light"] .card .card-body,
html[data-bs-theme="light"] .subject-card,
html[data-bs-theme="light"] pre,
html[data-bs-theme="light"] .highlight {
  background: var(--surface) !important;
  border-color: rgba(0,0,0,0.08) !important;
  color: var(--text) !important;
}

html[data-bs-theme="light"] .exam-link,
html[data-bs-theme="light"] .subject-list .btn {
  background: transparent !important;
  color: inherit !important;
}

/* Dark explicit overrides too (in case third-party CSS forces light backgrounds) */
html[data-bs-theme="dark"] body,
html[data-bs-theme="dark"] .container,
html[data-bs-theme="dark"] header,
html[data-bs-theme="dark"] main,
html[data-bs-theme="dark"] footer {
  background-color: var(--bg) !important;
  color: var(--text) !important;
}

html[data-bs-theme="dark"] .card,
html[data-bs-theme="dark"] .card .card-body,
html[data-bs-theme="dark"] .subject-card,
html[data-bs-theme="dark"] pre,
html[data-bs-theme="dark"] .highlight {
  background: var(--surface) !important;
  border-color: rgba(255,255,255,0.04) !important;
  color: var(--text) !important;
}

html {
  font-size: 20px;
}
body {
  background-color: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container { max-width: var(--container-max); }

/* Subjects wrapper: grid to keep two columns aligned even when item counts differ */
.subjects-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; align-items: start; }
.subjects-wrapper > .flex-fill { display:flex; flex-direction:column; gap:.5rem; }

@media (max-width: 767px) {
  .subjects-wrapper { grid-template-columns: 1fr; }
}

/* Card / surface */
.card { background: var(--surface); border: 1px solid rgba(255,255,255,0.03); border-radius: var(--radius); color: var(--text); }
.card .card-title { color: var(--text); }

/* Buttons: improved outlines and focus */
.btn { border-radius: 0.45rem; }
.btn-outline-success { --bs-btn-border-color: var(--accent-al); color: var(--accent-al); border-color: rgba(92,192,127,0.8); }
.btn-outline-primary { --bs-btn-border-color: var(--accent-ig); color: var(--accent-ig); border-color: rgba(92,107,192,0.8); }
.btn-outline-info { color: var(--info); border-color: rgba(23,162,184,0.9); }
.btn-outline-secondary { color: var(--muted); border-color: rgba(150,150,150,0.12); }
.btn:focus { outline: 3px solid rgba(255,255,255,0.06); outline-offset: 2px; }

/* Exam link */
.exam-link { display: inline-flex; align-items: center; gap: .6rem; padding: .6rem .9rem; }
.exam-icon { font-size: 1.25rem; }

/* Code and highlighting */
.highlight, pre { background: var(--surface); border-radius: .5rem; padding: .8rem; overflow: auto; color: var(--text); }

/* Focus states for keyboard navigation */
a:focus, button:focus { box-shadow: 0 0 0 3px rgba(100,150,255,0.08); }

/* Responsive tweaks */
@media (max-width: 767px) {
  html { font-size: 18px; }
  .display-4 { font-size: 1.8rem; }
  .d-flex.flex-column.flex-md-row { flex-direction: column !important; }
}

/* Skip link for accessibility */
.skip-link { position: absolute; left: -999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus, .sr-only-focusable:focus { position: static; left: 0; width: auto; height: auto; padding: .5rem .75rem; background: rgba(255,255,255,0.06); color: var(--text); border-radius: .25rem; z-index: 9999; }

.MJX-TEX * {
  font-family: MJXZERO, MJXTEX !important;
}

code>* {
  font-family: 'MapleMono', 'Courier New', Courier, monospace !important;
  line-height: 0;
  white-space: break-spaces;
}

code.language-plaintext {
  margin: 0;
  padding: .2em .4em;
  border-radius: 0.5rem;
  background-color: var(--surface);
  color: var(--text);
}

div.highlight {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 0.5rem;
}

/* .bg-al { */
/*   background-color: var(--al-color); */
/* } */
/**/
/* .bg-ig { */
/*   background-color: var(--ig-color); */
/* } */
/**/
/* .btn-outline-al { */
/*   --bs-btn-color: var(--al-color); */
/*   --bs-btn-border-color: var(--al-color); */
/*   --bs-btn-hover-color: #fff; */
/*   --bs-btn-hover-bg: var(--al-color); */
/*   --bs-btn-hover-border-color: var(--al-color); */
/*   --bs-btn-focus-shadow-rgb: 13, 110, 253; */
/*   --bs-btn-active-color: #fff; */
/*   --bs-btn-active-bg: var(--al-color); */
/*   --bs-btn-active-border-color: var(--al-color); */
/*   --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125); */
/*   --bs-btn-disabled-color: var(--al-color); */
/*   --bs-btn-disabled-bg: transparent; */
/*   --bs-btn-disabled-border-color: var(--al-color); */
/*   --bs-gradient: none; */
/* } */
/**/
/* .btn-outline-ig { */
/*   --bs-btn-color: var(--ig-color); */
/*   --bs-btn-border-color: var(--ig-color); */
/*   --bs-btn-hover-color: #fff; */
/*   --bs-btn-hover-bg: var(--ig-color); */
/*   --bs-btn-hover-border-color: var(--ig-color); */
/*   --bs-btn-focus-shadow-rgb: 13, 110, 253; */
/*   --bs-btn-active-color: #fff; */
/*   --bs-btn-active-bg: var(--ig-color); */
/*   --bs-btn-active-border-color: var(--ig-color); */
/*   --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125); */
/*   --bs-btn-disabled-color: var(--ig-color); */
/*   --bs-btn-disabled-bg: transparent; */
/*   --bs-btn-disabled-border-color: var(--ig-color); */
/*   --bs-gradient: none; */
/* } */
/**/
/* .text-al { */
/*   color: var(--al-color); */
/* } */
/**/
/* .text-ig { */
/*   color: var(--ig-color); */
/* } */

/* Subject list: wrap into rows and maintain spacing */
.subject-list { display: flex; flex-wrap: wrap; gap: .5rem; align-items: center; }
.subject-list .btn { margin: 0; }
.subject-card { background: var(--surface); padding: .6rem; border-radius: .45rem; }

@media (min-width: 768px) {
  .subject-list { gap: .75rem; }
}
